for(每一时间片，判断是否所有车辆达到终点) 
    {
        while(所有车辆均为终止状态) 
            {
                //开始标记每辆车的状态
                foreach(每条路) 
                    {
                        //遍历这条路上所有车的状态并标记
                        foreach(这条路上每辆车) 
                            {
                                //通过S1,R1,R2,V1,V2,V,S2来判断第一辆车的状态
                                FirstCarStatusMark();
                                //通过前一辆车的状态依次确定后一辆车的状态
                                NextCarStatusMark();
                            }//for结束，这条路上所有车辆状态已确定，开始挪车
                        DriveCarOnTheRoad();//这条路上终止状态的车辆已移动到终止位置，但是仍有等待状态的车辆
                    }//for结束
            } //while结束，，所有道路上终止状态的车辆都移动到终止位置，等待状态的车辆等待在路口
        while(有等待状态的车辆存在)
        {
            //对每个路口等待着的车辆进行判断最终的位置
            foreach(每个路口) 
                {
                    foreach(该路口的每条路) 
                        {
                            //先标记其他与该路口相对的其他三条路的可以进入的方式（直行进入、左转进入、右转进入，是否可以）
                            TheAcceptEnterDirectionOfRoad();
                            //标记在该条路上的等待车辆进入其他道路的进入方式（直行进入、左转进入、右转进入）
                            TheEnterDirectionOfCar();
                            //判断车辆进入道路的方式是否冲突，把冲突之前的车辆移动到终止位置，之后的车就是冲突的车，处理下一条路
                            FirstCarConflict();//得到第一辆冲突的车
                            DriveCar();//移动冲突之前的所有车,按照车道顺序挪动，并标记为终止状态，但该条路可能仍有等待车辆，处理下一条路
                        }//该路口处理完毕，有部分车辆处于等待状态，处理下一个路口
                }//所有路口处理完一次，回到第一个路口重新处理等待着的车辆，
        }//循环依次处理每一个路口，直到所有车辆都为终止状态，跳出循环
        DriveCarInGarage();//使在车库里的车上路
    }//进入下一个时间片，即下一个调度
